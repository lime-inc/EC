{"version":3,"file":"ui.js","sourceRoot":"","sources":["../../../../src/cli/validators/extensions/ui.ts"],"names":[],"mappings":"AACA,OAAO,EAAC,KAAK,EAAC,MAAM,kBAAkB,CAAA;AAEtC,MAAM,mBAAmB,GAAG,CAAC,QAAgB,EAAE,EAAE;IAC/C,OAAO,IAAI,KAAK,CAAC,KAAK,CACpB,6DAA6D,QAAQ,GAAG,EACxE,oEAAoE,QAAQ,GAAG,CAChF,CAAA;AACH,CAAC,CAAA;AAED,MAAM,UAAU,oBAAoB,CAAC,UAAyB;IAC5D,KAAK,MAAM,SAAS,IAAI,UAAU,EAAE;QAClC,QAAQ,SAAS,CAAC,IAAI,EAAE;YACtB,KAAK,qBAAqB;gBACxB,sBAAsB,CAAC,SAAS,CAAC,CAAA;gBACjC,MAAK;YACP;gBACE,MAAK;SACR;KACF;AACH,CAAC;AAED,MAAM,UAAU,sBAAsB,CAAC,SAAsB;IAC3D,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,cAAc,EAAE;QAC3C,MAAM,mBAAmB,CAAC,iBAAiB,CAAC,CAAA;KAC7C;IAED,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,aAAa,EAAE;QAC1C,MAAM,mBAAmB,CAAC,eAAe,CAAC,CAAA;KAC3C;AACH,CAAC","sourcesContent":["import {UIExtension} from '../../models/app/extensions.js'\nimport {error} from '@shopify/cli-kit'\n\nconst WebPixelConfigError = (property: string) => {\n  return new error.Abort(\n    `The Web Pixel Extension configuration is missing the key \"${property}\"`,\n    `Please update your shopify.ui.extension.toml to include a valid \"${property}\"`,\n  )\n}\n\nexport function validateUIExtensions(extensions: UIExtension[]) {\n  for (const extension of extensions) {\n    switch (extension.type) {\n      case 'web_pixel_extension':\n        validateWebPixelConfig(extension)\n        break\n      default:\n        break\n    }\n  }\n}\n\nexport function validateWebPixelConfig(extension: UIExtension) {\n  if (!extension.configuration.runtimeContext) {\n    throw WebPixelConfigError('runtime_context')\n  }\n\n  if (!extension.configuration.configuration) {\n    throw WebPixelConfigError('configuration')\n  }\n}\n"]}